---
type: project
category: hardware
created: 2025-09-13
modified: 2025-09-13
tags: [remarkable, tablet, sync, selfhosted, git-annex]
status: planning
version: 1.0.0
---

# remarkable 2 sync service
## self-hosted syncing solution

### project goal
build a selfhosted syncing service to allow freer data transfer to/from remarkable 2 tablet

### key insights from git-annex-xochitl research

#### technical architecture
- **file structure**: xochitl stores docs in `~/.local/share/remarkable/xochitl/`
- **file types per document**:
  - `.pdf`: actual document content
  - `.metadata`: document properties
  - `.content`: additional metadata
  - `.local` & `.pagedata`: system files
- **sync method**: git-annex special remote via SSH
- **identifiers**: UUIDv5 for stable document IDs

#### implementation approach (from article)
- rust-based special remote (no external crates)
- uses tablet's built-in SSH capabilities
- `git annex export` with `exporttree=yes`
- filtering via `git annex metadata` and `git annex wanted`

#### workflow pattern
1. mark files: `git annex metadata -s amatl=store`
2. export: `git annex export` to transfer
3. git-annex handles file tracking/versioning

#### limitations identified
- no built-in import for notes/annotations
- extracting consistent document names is difficult
- proprietary drawing format complicates full bidirectional sync

### awesome-remarkable insights

#### sync solutions available
- **rmfakecloud**: self-hosted cloud sync server implementation
- **cloud apis**: rMAPI (Go), rmcl (Python), jrmapi (Java)
- **remarkdav**: WebDAV to remarkable cloud sync

#### file format tools
- **lines format libraries**:
  - lines-are-beautiful (C++)
  - lines-are-rusty (Rust)
  - rmrl (Python - converts annotated docs to PDFs)
- **format specs**: reMarkable-kaitai provides binary lines format specification
- **conversion**: reMarkable-layers (PDFs/SVGs to Lines format)

#### version 3.x considerations
- some tools may be outdated for current firmware
- rm1/rm2 screen differences affect some projects
- need to verify compatibility before implementation

### architecture options
1. **git-annex approach** (from article): file-level sync via SSH
2. **fake cloud server** (rmfakecloud): drop-in replacement for remarkable cloud
3. **hybrid approach**: custom sync + existing format libraries for annotations

### safety & risk assessment

#### risk level: LOW-MEDIUM
- **rmfakecloud**: server-side only, no device modification required
- **no rooting/jailbreaking**: works through official cloud API endpoints
- **main risk**: accidental file deletion (not device bricking)

#### safeguards available
- **recovery tools**: multiple unbrick methods exist
  - `remarkable-uuuflash`: soft-brick recovery via USB
  - `ddvk/remarkable2-recovery`: comprehensive recovery toolkit
  - hardware-level partition recovery possible
- **backup strategy**: full system partition backup before any changes
- **developer mode**: ssh access for troubleshooting

#### specific rmfakecloud risks
- versions <= 0.0.3: "connecting will delete all files" unless marked not synced
- file deletion on server = deletion on device
- requires careful file management

#### firmware compatibility
- supports up to 3.20.0 (current as of 2024)
- may need `rmfakecloud-proxy` from toltec project

### implementation strategy
1. **phase 1**: test rmfakecloud on isolated server first
2. **phase 2**: backup device completely before connection
3. **phase 3**: gradual rollout with non-critical documents
4. **phase 4**: full sync deployment

### next steps
- [ ] create full device backup strategy
- [ ] set up isolated rmfakecloud test environment
- [ ] verify 3.x compatibility of key tools
- [ ] prototype with throwaway documents first
- [ ] implement bidirectional sync with safety checks